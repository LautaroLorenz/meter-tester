<form novalidate [formGroup]="form">
  <app-page-title [title]="title" [showBack]="true" (backEvent)="exit()">
    <ng-container toolbar-right>
      <div class="flex align-items-center">
        <div class="mr-2">
          <app-validator-messages
            *ngIf="form.errors && form.dirty"
            [errors]="form.errors"
          ></app-validator-messages>
        </div>

        <p-splitButton
          label="Guardar"
          styleClass="p-button-success"
          [disabled]="saveButtonDisabled"
          [model]="saveButtonMenuItems"
          appendTo="body"
          (onClick)="save()"
        ></p-splitButton>
      </div>
    </ng-container>
  </app-page-title>

  <ng-container formGroupName="essayTemplate">
    <div class="formgrid grid my-5 mx-3">
      <div class="field col col-6">
        <span class="p-float-label">
          <input pInputText id="name" formControlName="name" />
          <label htmlFor="name">Nombre</label>
        </span>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="steps$ | async as steps">
    <app-steps-sequence-table
      [inputFormArray]="form.get('essayTemplateSteps')"
      [savedEssayTemplateSteps]="savedEssayTemplateSteps"
      [stepOptions]="steps"
    ></app-steps-sequence-table>
  </ng-container>
</form>
